#!/usr/bin/env ruby
# frozen_string_literal: true

development_mode = ARGV.delete("--development")

if development_mode
	ENV["LIVELY_VARIANT"] = "development"
	ENV["CONSOLE_LEVEL"] = "debug"
end

electron_path = ENV.fetch("ELECTRON") do
	`npx which electron`.strip
end

main_js = File.join(__dir__, "..", "src", "main.js")
Process.exec(electron_path, main_js, *ARGV)
